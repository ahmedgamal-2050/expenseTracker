import{a as q,b as Q}from"./chunk-PNCV5TP4.js";import{a as k}from"./chunk-42YHWVMV.js";import{a as m,b as J,c as j}from"./chunk-4PRA6KJL.js";import{a as Y,d as W}from"./chunk-STPF54XU.js";import{i as Z,p as X}from"./chunk-OSMZGMWD.js";import{$a as y,Ab as d,Bb as s,Cb as x,Fa as U,Hb as P,Ia as w,O as G,T as g,Ta as F,Wa as A,Xa as N,Y as E,Ya as H,Z as T,Za as L,_a as I,ab as i,bb as n,cb as f,fa as u,fb as O,ib as h,jb as C,rb as V,sb as c,tb as _,ub as p,va as o,vb as b}from"./chunk-YIYEQTYG.js";var z={apiUrl:"https://api.currencyapi.com/v3/latest?apikey={apiKey}"},K="EGP",$={meta:{last_updated_at:"2025-09-27T23:59:59Z"},data:{ADA:{code:"ADA",value:1.2789560387},AED:{code:"AED",value:3.6720904923},AFN:{code:"AFN",value:67.4145581128},ALL:{code:"ALL",value:82.472726178},AMD:{code:"AMD",value:381.2849943192},ANG:{code:"ANG",value:1.7252903292},AOA:{code:"AOA",value:909.7971236877},ARB:{code:"ARB",value:2.3546723304},ARS:{code:"ARS",value:1328.9688082827},AUD:{code:"AUD",value:1.5277702915},AVAX:{code:"AVAX",value:.0347125804},AWG:{code:"AWG",value:1.79},AZN:{code:"AZN",value:1.7},BAM:{code:"BAM",value:1.6703203049},BBD:{code:"BBD",value:2},BDT:{code:"BDT",value:121.7375337269},BGN:{code:"BGN",value:1.671750245},BHD:{code:"BHD",value:.376},BIF:{code:"BIF",value:2944.5056989471},BMD:{code:"BMD",value:1},BNB:{code:"BNB",value:.0010307219},BND:{code:"BND",value:1.2904701912},BOB:{code:"BOB",value:6.9095809363},BRL:{code:"BRL",value:5.3508007396},BSD:{code:"BSD",value:1},BTC:{code:"BTC",value:90971e-10},BTN:{code:"BTN",value:79.4764034308},BWP:{code:"BWP",value:13.2793221949},BYN:{code:"BYN",value:3.3777155898},BYR:{code:"BYR",value:33777.155460999},BZD:{code:"BZD",value:2},CAD:{code:"CAD",value:1.394220216},CDF:{code:"CDF",value:2697.1822947635},CHF:{code:"CHF",value:.7977601538},CLF:{code:"CLF",value:.0239500029},CLP:{code:"CLP",value:959.9870040727},CNY:{code:"CNY",value:7.1318109424},COP:{code:"COP",value:3899.8296934773},CRC:{code:"CRC",value:503.815604952},CUC:{code:"CUC",value:1},CUP:{code:"CUP",value:24},CVE:{code:"CVE",value:94.3878854864},CZK:{code:"CZK",value:20.7262536247},DAI:{code:"DAI",value:.9999049953},DJF:{code:"DJF",value:177.721},DKK:{code:"DKK",value:6.3777906745},DOP:{code:"DOP",value:61.9680573833},DOT:{code:"DOT",value:.2567825706},DZD:{code:"DZD",value:130.0863371094},EGP:{code:"EGP",value:48.1370051809},ERN:{code:"ERN",value:15},ETB:{code:"ETB",value:143.9532839079},ETH:{code:"ETH",value:.0002487962},EUR:{code:"EUR",value:.8542501546},FJD:{code:"FJD",value:2.2913104582},FKP:{code:"FKP",value:.7459254954},GBP:{code:"GBP",value:.7461001103},GEL:{code:"GEL",value:2.7029303604},GGP:{code:"GGP",value:.7459254817},GHS:{code:"GHS",value:12.3541621647},GIP:{code:"GIP",value:.7459254512},GMD:{code:"GMD",value:73.2943202567},GNF:{code:"GNF",value:8703.6595368854},GTQ:{code:"GTQ",value:7.6475612664},GYD:{code:"GYD",value:208.883060437},HKD:{code:"HKD",value:7.7774512886},HNL:{code:"HNL",value:26.1814148218},HRK:{code:"HRK",value:6.3160710477},HTG:{code:"HTG",value:133.0908709073},HUF:{code:"HUF",value:333.665386484},IDR:{code:"IDR",value:16753.588973908},ILS:{code:"ILS",value:3.3486704071},IMP:{code:"IMP",value:.7459254535},INR:{code:"INR",value:88.6295100027},IQD:{code:"IQD",value:1308.6303070002},IRR:{code:"IRR",value:42000.512432343},ISK:{code:"ISK",value:121.0145558579},JEP:{code:"JEP",value:.7459254689},JMD:{code:"JMD",value:159.6578622642},JOD:{code:"JOD",value:.71},JPY:{code:"JPY",value:149.4855888946},KES:{code:"KES",value:128.9973215514},KGS:{code:"KGS",value:87.9348970202},KHR:{code:"KHR",value:4002.1715614554},KMF:{code:"KMF",value:421.5809127818},KPW:{code:"KPW",value:900.0001257159},KRW:{code:"KRW",value:1408.0848960115},KWD:{code:"KWD",value:.3046600575},KYD:{code:"KYD",value:.83333},KZT:{code:"KZT",value:543.1475818001},LAK:{code:"LAK",value:21572.102858101},LBP:{code:"LBP",value:89494.982291448},LKR:{code:"LKR",value:301.0512807858},LRD:{code:"LRD",value:181.1961605762},LSL:{code:"LSL",value:17.3418122885},LTC:{code:"LTC",value:.0095628325},LTL:{code:"LTL",value:2.9496658714},LVL:{code:"LVL",value:.600389554},LYD:{code:"LYD",value:5.4062306707},MAD:{code:"MAD",value:9.0760317984},MATIC:{code:"MATIC",value:4.4720269112},MDL:{code:"MDL",value:16.6615925424},MGA:{code:"MGA",value:4474.2192882903},MKD:{code:"MKD",value:52.6003801671},MMK:{code:"MMK",value:2098.2910036121},MNT:{code:"MNT",value:3595.0794333289},MOP:{code:"MOP",value:7.9759915647},MRO:{code:"MRO",value:356.999828},MRU:{code:"MRU",value:39.8685284906},MUR:{code:"MUR",value:45.6792150909},MVR:{code:"MVR",value:15.4524029182},MWK:{code:"MWK",value:1733.636581821},MXN:{code:"MXN",value:18.3559818996},MYR:{code:"MYR",value:4.2211404617},MZN:{code:"MZN",value:63.5299367871},NAD:{code:"NAD",value:17.2951823046},NGN:{code:"NGN",value:1482.8287679192},NIO:{code:"NIO",value:36.6304311065},NOK:{code:"NOK",value:9.9759815668},NPR:{code:"NPR",value:141.25466352},NZD:{code:"NZD",value:1.7319402543},OMR:{code:"OMR",value:.3840500552},OP:{code:"OP",value:1.4846329968},PAB:{code:"PAB",value:.9989501664},PEN:{code:"PEN",value:3.4919206158},PGK:{code:"PGK",value:4.1417107583},PHP:{code:"PHP",value:58.1506606572},PKR:{code:"PKR",value:281.2349898424},PLN:{code:"PLN",value:3.6427404016},PYG:{code:"PYG",value:7068.3511995684},QAR:{code:"QAR",value:3.639280599},RON:{code:"RON",value:4.3413708361},RSD:{code:"RSD",value:99.5866737913},RUB:{code:"RUB",value:83.6530537113},RWF:{code:"RWF",value:1451.2539877823},SAR:{code:"SAR",value:3.7474506372},SBD:{code:"SBD",value:8.2304796557},SCR:{code:"SCR",value:14.9140122026},SDG:{code:"SDG",value:601.5},SEK:{code:"SEK",value:9.4052914719},SGD:{code:"SGD",value:1.2904002114},SHP:{code:"SHP",value:.7461001288},SLE:{code:"SLE",value:22.7848843127},SLL:{code:"SLL",value:22723.552074181},SOL:{code:"SOL",value:.0049095439},SOS:{code:"SOS",value:571.5230681959},SRD:{code:"SRD",value:37.861466927},STD:{code:"STD",value:21017.264737494},STN:{code:"STN",value:21.0172653011},SVC:{code:"SVC",value:8.75},SYP:{code:"SYP",value:13001.84393481},SZL:{code:"SZL",value:17.3350925849},THB:{code:"THB",value:32.1892745792},TJS:{code:"TJS",value:9.3658916944},TMT:{code:"TMT",value:3.5},TND:{code:"TND",value:2.9088202917},TOP:{code:"TOP",value:2.3468202506},TRX:{code:"TRX",value:2.9366006578},TRY:{code:"TRY",value:41.4801873087},TTD:{code:"TTD",value:6.7513607198},TWD:{code:"TWD",value:30.4798960355},TZS:{code:"TZS",value:2432.6391551314},UAH:{code:"UAH",value:41.6243352834},UGX:{code:"UGX",value:3491.8119502968},USD:{code:"USD",value:1},USDC:{code:"USDC",value:.9996628334},USDT:{code:"USDT",value:.9989623683},UYU:{code:"UYU",value:39.8985354945},UZS:{code:"UZS",value:12154.876968491},VEF:{code:"VEF",value:17338756902922e-6},VES:{code:"VES",value:173.3875680961},VND:{code:"VND",value:26383.154486138},VUV:{code:"VUV",value:120.3032345064},WST:{code:"WST",value:2.7979929819},XAF:{code:"XAF",value:560.3540510323},XAG:{code:"XAG",value:.0217145917},XAU:{code:"XAU",value:.0002657661},XCD:{code:"XCD",value:2.7},XCG:{code:"XCG",value:1.7970050777},XDR:{code:"XDR",value:.729230132},XOF:{code:"XOF",value:560.3540377998},XPD:{code:"XPD",value:.0007864734},XPF:{code:"XPF",value:101.8585442254},XPT:{code:"XPT",value:.0006355278},XRP:{code:"XRP",value:.3559270424},YER:{code:"YER",value:238.9074616138},ZAR:{code:"ZAR",value:17.2957722854},ZMK:{code:"ZMK",value:9001.2},ZMW:{code:"ZMW",value:23.7657736532},ZWG:{code:"ZWG",value:26.646673143},ZWL:{code:"ZWL",value:66582.68722628}}};var S=class l{http=g(X);currencyList=u(Object.keys($.data));getCurrency(){let a=z.apiUrl.replace("{apiKey}",k.apiKey);return this.http.get(a)}convertCurrency(a,t){return a*t}static \u0275fac=function(t){return new(t||l)};static \u0275prov=G({token:l,factory:l.\u0275fac,providedIn:"root"})};var R=class l{currencyService=g(S);transform(a,t=1){return!a||!t?"0.00":this.currencyService.convertCurrency(a,t).toFixed(2)}static \u0275fac=function(t){return new(t||l)};static \u0275pipe=w({name:"currencyConversion",type:l,pure:!0})};var ne=(l,a)=>a.key;function ie(l,a){if(l&1){let t=O();i(0,"li")(1,"button",25),h("click",function(){let r=E(t).$implicit,M=C(2);return T(M.selectPeriod(r.key))}),c(2),n()()}if(l&2){let t=a.$implicit;o(2),p(" ",t.label," ")}}function le(l,a){if(l&1&&(i(0,"ul",8),L(1,ie,3,1,"li",null,ne),n()),l&2){let t=C();o(),I(t.periodOptions)}}function re(l,a){if(l&1&&(i(0,"li",23)(1,"div",26)(2,"span",27),d(3,"categoryOption"),f(4,"i-lucide",28),d(5,"categoryOption"),n(),i(6,"div")(7,"p",29),c(8),d(9,"categoryOption"),n(),i(10,"p",30),c(11),d(12,"translate"),n()()(),i(13,"div",31)(14,"p",29),c(15),d(16,"currencyConversion"),n(),i(17,"p",30),c(18),d(19,"date"),n()()()),l&2){let t=a.$implicit,e=C();o(2),V(s(3,8,t.category).style),o(2),y("img",s(5,10,t.category).icon),o(4),p(" ",s(9,12,t.category).label," "),o(3),p(" ",s(12,14,"dashboard_home_screen_manually_label")," "),o(4),b(" - ",e.defaultCurrency()," ",x(16,16,t.amount,e.currencyValue())," "),o(3),p(" ",x(19,19,t.date,"MMM d, yyyy")," ")}}function ce(l,a){if(l&1){let t=O();i(0,"div",24)(1,"button",32),h("click",function(){E(t);let r=C();return T(r.getExpenses(r.meta().page+1))}),f(2,"i-lucide",7),n()()}if(l&2){let t=C();o(2),y("img",t.reloadIcon)}}var te=class l{expensesService=g(Q);currencyService=g(S);currencyValue=u(1);defaultCurrency=u(K);caretDown=m.ChevronDown;caretUp=m.ChevronUp;incomeIcon=m.MoveDown;expenseIcon=m.MoveUp;cartIcon=m.ShoppingCart;musicIcon=m.Music2;carIcon=m.Car;reloadIcon=m.RotateCcw;filterOpen=u(!1);periodOptions=[{key:"this_month",label:"This month"},{key:"last_month",label:"Last month"},{key:"this_quarter",label:"This quarter"},{key:"last_quarter",label:"Last quarter"},{key:"this_year",label:"This year"},{key:"last_year",label:"Last year"}];selectedPeriod=u("this_month");month=P(()=>this.periodOptions.find(a=>a.key===this.selectedPeriod())?.label??"This month");expenses=u([]);filteredExpenses=u([]);meta=u({total:0,page:1,limit:10});user=u(JSON.parse(localStorage.getItem(Y.user)??"{}"));getPeriodRange(a){let t=new Date,e=t.getFullYear(),r=t.getMonth(),M=new Date(e,r,1),ae=new Date(e,r+1,0,23,59,59,999);switch(a){case"this_month":return{start:M,end:ae};case"last_month":{let v=new Date(e,r-1,1),D=new Date(e,r,0,23,59,59,999);return{start:v,end:D}}case"this_quarter":{let v=Math.floor(r/3),D=new Date(e,v*3,1),B=new Date(e,v*3+3,0,23,59,59,999);return{start:D,end:B}}case"last_quarter":{let v=Math.floor(r/3)-1,D=e;v<0&&(v=3,D=e-1);let B=new Date(D,v*3,1),oe=new Date(D,v*3+3,0,23,59,59,999);return{start:B,end:oe}}case"this_year":return{start:new Date(e,0,1),end:new Date(e,11,31,23,59,59,999)};case"last_year":return{start:new Date(e-1,0,1),end:new Date(e-1,11,31,23,59,59,999)}}}totalIncome=u(0);totalExpenses=P(()=>this.filteredExpenses().reduce((a,t)=>a+(Number(t.amount)||0),0));totalBalance=P(()=>this.totalIncome()-this.totalExpenses());toggleFilter(){this.filterOpen.set(!this.filterOpen())}selectPeriod(a){this.selectedPeriod.set(a),this.getExpensesByPeriod(),this.filterOpen.set(!1)}ngOnInit(){this.getCurrency(),this.getExpenses()}getCurrency(){this.currencyService.getCurrency().subscribe(a=>{this.currencyValue.set(a.data[K].value)})}getExpenses(a=1){this.expensesService.getExpenses(1,this.meta().limit*a).subscribe(t=>{let{data:e,meta:r}=t;this.expenses.set(e),this.selectedPeriod.set("this_month"),this.getExpensesByPeriod(),this.meta.set(r)})}getExpensesByPeriod(){let{start:a,end:t}=this.getPeriodRange(this.selectedPeriod());this.filteredExpenses.set(this.expenses().filter(e=>{if(!e.date)return!1;let r=new Date(e.date);return r>=a&&r<=t}))}static \u0275fac=function(t){return new(t||l)};static \u0275cmp=U({type:l,selectors:[["app-home"]],decls:56,vars:42,consts:[[1,"lg:grid","lg:grid-cols-4","lg:gap-6"],[1,"relative","rounded-2xl","bg-blue-600","p-4","text-white","shadow-lg","lg:col-span-2","lg:h-64"],[1,"flex","items-start","justify-between"],[1,"text-sm","opacity-90"],[1,"text-base","font-semibold"],[1,"relative"],["type","button","aria-haspopup","listbox",1,"inline-flex","items-center","gap-1","rounded-md","bg-white","text-gray-900","px-2","py-1","text-xs","cursor-pointer",3,"click"],[1,"size-4",3,"img"],["role","listbox",1,"absolute","right-0","z-10","mt-2","w-40","rounded-md","border","border-gray-200","bg-white","p-1","text-gray-900","shadow-lg"],[1,"rounded-xl","bg-marine-blue-500","p-4","relative","top-10","lg:top-0","lg:mt-4"],[1,"flex","items-center","gap-1"],[1,"text-sm"],[1,"mt-1","text-3xl","font-bold"],[1,"mt-3","grid","grid-cols-2","gap-4","text-sm"],[1,"flex","flex-col","gap-2"],[1,"flex","items-center","gap-2"],[1,"flex","items-center","justify-center","rounded-full","bg-marine-blue-400","p-1"],[1,"size-3",3,"img"],[1,"font-semibold"],[1,"mt-12","lg:mt-0","lg:col-span-2"],[1,"mb-2","flex","items-center","justify-between"],[1,"text-xs","text-blue-600","cursor-pointer"],[1,"grid","md:grid-cols-2","lg:grid-cols-1","gap-3"],[1,"flex","items-center","justify-between","rounded-xl","shadow","bg-white","px-3","py-2","dark:border-gray-700","dark:bg-gray-800","md:col-span-1"],[1,"mt-6","flex","justify-center"],["type","button",1,"w-full","rounded","px-2","py-1","text-left","text-xs","hover:bg-gray-100",3,"click"],[1,"flex","items-center","gap-3"],[1,"grid","size-10","place-items-center","rounded-full"],[1,"size-5",3,"img"],[1,"text-sm","font-semibold"],[1,"text-xs","opacity-70"],[1,"text-end"],[1,"text-sm","font-semibold","cursor-pointer","bg-blue-100","text-blue-600","rounded-full","p-3",3,"click"]],template:function(t,e){t&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"p",3),c(5),d(6,"translate"),n(),i(7,"p",4),c(8),n()(),i(9,"div",5)(10,"button",6),h("click",function(){return e.toggleFilter()}),c(11),f(12,"i-lucide",7),n(),A(13,le,3,0,"ul",8),n()(),i(14,"div",9)(15,"div",10)(16,"span",11),c(17),d(18,"translate"),n(),f(19,"i-lucide",7),n(),i(20,"p",12),c(21),d(22,"currencyConversion"),n(),i(23,"div",13)(24,"div",14)(25,"div",15)(26,"div",16),f(27,"i-lucide",17),n(),i(28,"p"),c(29),d(30,"translate"),n()(),i(31,"p",18),c(32),d(33,"currencyConversion"),n()(),i(34,"div",14)(35,"div",15)(36,"div",16),f(37,"i-lucide",17),n(),i(38,"p"),c(39),d(40,"translate"),n()(),i(41,"p",18),c(42),d(43,"currencyConversion"),n()()()()(),i(44,"div",19)(45,"div",20)(46,"h2",4),c(47),d(48,"translate"),n(),i(49,"button",21),c(50),d(51,"translate"),n()(),i(52,"ul",22),L(53,re,20,22,"li",23,H),n(),A(55,ce,3,1,"div",24),n()()),t&2&&(o(5),p(" ",s(6,21,"dashboard_home_screen_good_morning_label")," "),o(3),_(e.user().name),o(2),F("aria-expanded",e.filterOpen()),o(),p(" ",e.month()," "),o(),y("img",e.caretDown),o(),N(e.filterOpen()?13:-1),o(4),p(" ",s(18,23,"dashboard_home_screen_total_balance_label")," "),o(2),y("img",e.caretUp),o(2),b(" ",e.defaultCurrency()," ",x(22,25,e.totalBalance(),e.currencyValue())," "),o(6),y("img",e.incomeIcon),o(2),_(s(30,28,"dashboard_home_screen_income_label")),o(3),b(" ",e.defaultCurrency()," ",x(33,30,e.totalIncome(),e.currencyValue())," "),o(5),y("img",e.expenseIcon),o(2),_(s(40,33,"dashboard_home_screen_expenses_label")),o(3),b(" ",e.defaultCurrency()," ",x(43,35,e.totalExpenses(),e.currencyValue())," "),o(5),p(" ",s(48,38,"dashboard_home_screen_recent_expenses_label")," "),o(3),p(" ",s(51,40,"dashboard_home_screen_see_all_label")," "),o(3),I(e.expenses()),o(2),N(e.meta().total>e.expenses().length?55:-1))},dependencies:[j,J,q,Z,R,W],encapsulation:2})};export{te as HomeComponent};
