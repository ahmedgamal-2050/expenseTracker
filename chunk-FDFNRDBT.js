import{a as p}from"./chunk-WHLJNQZ4.js";import{a as d,b as D,c as T}from"./chunk-4PRA6KJL.js";import{a as C,c as w,d as Y}from"./chunk-STPF54XU.js";import{b as K,c as Q,d as W,e as S,f as N}from"./chunk-GDROI6OP.js";import"./chunk-OSMZGMWD.js";import{$a as c,Ab as m,Bb as u,Fa as k,Hb as O,Ib as R,J as F,Kb as J,T as f,Wa as U,Xa as z,Y as h,Z as y,Za as I,_a as M,ab as r,ba as P,bb as a,cb as s,e as V,fa as _,fb as $,ib as g,jb as x,qb as G,sb as b,ub as v,va as n,w as q,yb as H,zb as X}from"./chunk-YIYEQTYG.js";function Z(t){t||(t=f(P));let i=new V(e=>{if(t.destroyed){e.next();return}return t.onDestroy(e.next.bind(e))});return e=>e.pipe(F(i))}function ne(t,i){if(t&1){let e=$();r(0,"div",9)(1,"div",10),g("click",function(){h(e);let l=x();return y(l.toggleMenu())})("keydown.enter",function(){h(e);let l=x();return y(l.toggleMenu())})("keydown.space",function(){h(e);let l=x();return y(l.toggleMenu())}),a(),r(2,"div",11)(3,"div",12)(4,"span",13),b(5),m(6,"translate"),a(),r(7,"button",14),g("click",function(){h(e);let l=x();return y(l.toggleMenu())}),s(8,"i-lucide",6),a()(),r(9,"div",15)(10,"button",16),g("click",function(){h(e);let l=x();return y(l.toggleLanguage())}),s(11,"i-lucide",6),b(12),m(13,"translate"),m(14,"translate"),a(),r(15,"button",16),g("click",function(){h(e);let l=x();return y(l.toggleTheme())}),s(16,"i-lucide",6),b(17),m(18,"translate"),m(19,"translate"),a(),r(20,"button",17),g("click",function(){h(e);let l=x();return y(l.logout())}),s(21,"i-lucide",6),b(22),m(23,"translate"),a()()()()}if(t&2){let e=x();n(5),v(" ",u(6,8,"top_navbar_menu_label")," "),n(3),c("img",e.closeIcon),n(3),c("img",e.globeIcon),n(),v(" ",e.currentLanguage()==="ar"?u(13,10,"top_navbar_ar_label"):u(14,12,"top_navbar_en_label")," "),n(4),c("img",e.isDarkTheme()?e.moonIcon:e.sunIcon),n(),v(" ",e.isDarkTheme()?u(18,14,"top_navbar_dark_label"):u(19,16,"top_navbar_light_label")," "),n(4),c("img",e.logOutIcon),n(),v(" ",u(23,18,"top_navbar_logout_label")," ")}}var L=class t{router=f(W);translate=f(w);language=_(localStorage.getItem(C.language)??"en");theme=_(localStorage.getItem(C.theme)??"light");currentLanguage=O(()=>this.language());isDarkTheme=O(()=>this.theme()==="dark");globeIcon=d.Globe;moonIcon=d.Moon;sunIcon=d.Sun;menuIcon=d.Menu;logOutIcon=d.LogOut;closeIcon=d.X;menuOpen=_(!1);constructor(){R(()=>{let i=this.language();this.translate.use(i),document.documentElement.dir=i==="ar"?"rtl":"ltr",localStorage.setItem(C.language,i)}),R(()=>{let i=this.theme()==="dark";document.documentElement.classList.toggle("dark",i),localStorage.setItem(C.theme,i?"dark":"light")}),this.router.events.pipe(q(i=>i instanceof K),Z()).subscribe(()=>this.menuOpen.set(!1))}toggleLanguage(){this.language.set(this.language()==="en"?"ar":"en")}toggleTheme(){this.theme.set(this.theme()==="dark"?"light":"dark")}logout(){localStorage.removeItem(C.token),localStorage.removeItem(C.user),this.router.navigate([p.auth,p.login],{queryParams:{target:location.pathname}})}toggleMenu(){this.menuOpen.set(!this.menuOpen())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-top-navbar"]],decls:24,vars:18,consts:[[1,"w-full","fixed","top-0","inset-x-0","z-50","border-b","border-gray-200","bg-white/70","backdrop-blur","supports-[backdrop-filter]:bg-white/60","dark:border-gray-800","dark:bg-gray-900/70"],[1,"flex","h-14","w-full","items-center","justify-between","px-6"],[1,"flex","items-center","gap-2"],["type","button","aria-label","Home",1,"sm:text-xl","text-lg","font-semibold","select-none","text-blue-700"],[1,"md:flex","hidden","items-center","gap-2"],["type","button",1,"inline-flex","items-center","gap-1","rounded-md","border","border-gray-300","bg-white","px-3","py-1.5","text-sm","shadow-sm","hover:bg-gray-50","active:scale-[.99]","dark:border-gray-700","dark:bg-gray-800","dark:text-gray-200","dark:hover:bg-gray-700",3,"click"],[1,"size-4",3,"img"],["type","button",1,"inline-flex","items-center","gap-1","rounded-md","bg-red-600","px-3","py-1.5","text-sm","text-white","shadow-sm","hover:bg-red-700","active:scale-[.99]",3,"click"],[1,"md:hidden","flex","items-center"],[1,"md:hidden"],["role","button","tabindex","0","aria-label","Close menu",1,"fixed","inset-0","z-40","bg-black/50",3,"click","keydown.enter","keydown.space"],[1,"fixed","inset-y-0","end-0","z-50","w-72","max-w-[80vw]","bg-white","shadow-xl","dark:bg-gray-900"],[1,"flex","h-14","items-center","justify-between","border-b","border-gray-200","px-4","dark:border-gray-800"],[1,"font-semibold"],["type","button",1,"rounded","px-2","py-1","hover:bg-gray-100","dark:hover:bg-gray-800",3,"click"],[1,"flex","flex-col","gap-2","p-4"],["type","button",1,"inline-flex","items-center","gap-2","rounded-md","border","border-gray-300","bg-white","px-3","py-2","text-sm","shadow-sm","hover:bg-gray-50","active:scale-[.99]","dark:border-gray-700","dark:bg-gray-800","dark:text-gray-200","dark:hover:bg-gray-700",3,"click"],["type","button",1,"inline-flex","items-center","gap-2","rounded-md","bg-red-600","px-3","py-2","text-sm","text-white","shadow-sm","hover:bg-red-700","active:scale-[.99]",3,"click"]],template:function(e,o){e&1&&(r(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3),b(4," Expense Tracker Logo "),a()(),r(5,"div",4)(6,"button",5),g("click",function(){return o.toggleLanguage()}),s(7,"i-lucide",6),b(8),m(9,"translate"),m(10,"translate"),a(),r(11,"button",5),g("click",function(){return o.toggleTheme()}),s(12,"i-lucide",6),b(13),m(14,"translate"),m(15,"translate"),a(),r(16,"button",7),g("click",function(){return o.logout()}),s(17,"i-lucide",6),b(18),m(19,"translate"),a()(),r(20,"div",8)(21,"button",5),g("click",function(){return o.toggleMenu()}),s(22,"i-lucide",6),a()()()(),U(23,ne,24,20,"div",9)),e&2&&(n(7),c("img",o.globeIcon),n(),v(" ",o.currentLanguage()==="ar"?u(9,8,"top_navbar_ar_label"):u(10,10,"top_navbar_en_label")," "),n(4),c("img",o.isDarkTheme()?o.moonIcon:o.sunIcon),n(),v(" ",o.isDarkTheme()?u(14,12,"top_navbar_dark_label"):u(15,14,"top_navbar_light_label")," "),n(4),c("img",o.logOutIcon),n(),v(" ",u(19,16,"top_navbar_logout_label")," "),n(4),c("img",o.menuIcon),n(),z(o.menuOpen()?23:-1))},dependencies:[T,D,Y],encapsulation:2})};var ie=()=>["bg-blue-600","text-white"],oe=(t,i)=>i.name;function re(t,i){if(t&1&&(r(0,"li",2)(1,"a",3),s(2,"i-lucide",4),b(3),a()()),t&2){let e=i.$implicit;n(),c("routerLinkActive",H(4,ie))("routerLink",e.link),n(),c("img",e.icon),n(),v(" ",e.name," ")}}var E=class t{sidebarMenu=J.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-sidebar"]],inputs:{sidebarMenu:[1,"sidebarMenu"]},decls:4,vars:0,consts:[[1,"w-[12rem]","border-e","border-gray-200","h-screen","fixed","top-[3.5rem]","start-0","overflow-y-auto","bg-white"],[1,"flex","flex-col","items-start","py-4","gap-2"],[1,"w-full"],[1,"flex","items-center","gap-2","p-2","w-full","hover:bg-blue-300","hover:text-white",3,"routerLinkActive","routerLink"],[1,"size-4",3,"img"]],template:function(e,o){e&1&&(r(0,"section",0)(1,"ul",1),I(2,re,4,5,"li",2,oe),a()()),e&2&&(n(2),M(o.sidebarMenu()))},dependencies:[S,T,D,N],encapsulation:2})};var ae=t=>[t],se=(t,i)=>i.id;function le(t,i){if(t&1&&(r(0,"li")(1,"a",2),s(2,"i-lucide",3),a()()),t&2){let e=i.$implicit;n(),G("bg-blue-600",e.id===3)("text-white",e.id===3),c("routerLink",e.link)("routerLinkActive",X(7,ae,e.id!==3?"text-blue-600":"text-gray-700")),n(),c("img",e.icon)}}var j=class t{translate=f(w);menu=_([{id:1,icon:d.LayoutDashboard,link:["/"+p.dashboard,p.home]},{id:2,icon:d.ChartColumnIncreasing},{id:3,icon:d.Plus,link:["/"+p.dashboard,p.expenses,p.add]},{id:4,icon:d.CreditCard},{id:5,icon:d.User}]);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-bottom-navbar"]],decls:4,vars:0,consts:[[1,"fixed","bottom-0","inset-x-0","z-40","border-t","border-gray-200","bg-white/90","backdrop-blur","supports-[backdrop-filter]:bg-white/70","dark:border-gray-800","dark:bg-gray-900/80"],[1,"mx-auto","flex","max-w-7xl","items-center","justify-around","px-4","py-2"],[1,"flex","flex-col","items-center","gap-1","p-2","rounded-full","text-sm","hover:bg-blue-300","hover:text-white","dark:text-gray-300",3,"routerLink","routerLinkActive"],[1,"size-5",3,"img"]],template:function(e,o){e&1&&(r(0,"nav",0)(1,"ul",1),I(2,le,3,9,"li",null,se),a()()),e&2&&(n(2),M(o.menu()))},dependencies:[S,N,T,D],encapsulation:2})};var te=class t{translate=f(w);dashboardMenu=_([{name:this.translate.instant("sidebar_item_dashboard_label"),icon:d.LayoutDashboard,link:["/"+p.dashboard,p.home]},{name:this.translate.instant("sidebar_item_expenses_label"),icon:d.CreditCard,link:["/"+p.dashboard,p.expenses]}]);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-dashboard"]],decls:9,vars:1,consts:[[1,"flex","gap-4","w-full","bg-gray-50","min-h-screen"],[1,"hidden","lg:block"],[3,"sidebarMenu"],[1,"w-full","lg:w-[calc(100%-12rem)]","lg:ms-auto","pt-[3.5rem]"],[1,"mx-auto","max-w-8xl","px-4","pt-4","lg:pt-6","pb-24"],[1,"lg:hidden"]],template:function(e,o){e&1&&(s(0,"app-top-navbar"),r(1,"div",0)(2,"div",1),s(3,"app-sidebar",2),a(),r(4,"main",3)(5,"div",4),s(6,"router-outlet"),a()()(),r(7,"div",5),s(8,"app-bottom-navbar"),a()),e&2&&(n(3),c("sidebarMenu",o.dashboardMenu()))},dependencies:[L,Q,E,j],encapsulation:2})};export{te as DashboardComponent};
